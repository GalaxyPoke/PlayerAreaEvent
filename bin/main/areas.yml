# ========================================
#     PlayerAreaEvent 区域配置文件
# ========================================
#
# 这个文件用于配置所有的区域
# 每个区域都有自己的形状、动作、标志等设置
#
# 支持的形状类型：
#   - CUBOID   (立方体) - 使用两个对角点定义 ⭐ 本文件只展示这种
#   - CIRCLE   (圆形)   - 使用中心点和半径定义
#   - SPHERE   (球体)   - 使用中心点和半径定义
#   - CYLINDER (圆柱体) - 使用中心点、半径和高度定义
#   - POLYGON  (多边形) - 使用多个顶点定义
#
# 颜色代码：使用 & 符号，例如 &a = 绿色, &c = 红色
#
# ========================================

Areas:

  # ========================================
  # 示例1：出生点 - 安全区域
  # ========================================
  spawn:
    # --------------------------------------------------
    # 优先级设置
    # --------------------------------------------------
    # 数字越大优先级越高
    # 当区域重叠时，优先级高的区域设置会生效
    priority: 10
    
    # --------------------------------------------------
    # 区域形状配置
    # --------------------------------------------------
    position:
      # 形状类型：CUBOID = 立方体（长方体）
      shape: CUBOID
      
      # 世界名称（必须是服务器中存在的世界）
      world: "world"
      
      # 第一个点的坐标 (x, y, z)
      # 可以是区域的任意一个角
      position1: "-50, 60, -50"
      
      # 第二个点的坐标 (x, y, z)
      # 必须是与 position1 对角的另一个角
      # 插件会自动计算出正确的区域范围
      position2: "50, 80, 50"
    
    # --------------------------------------------------
    # 区域动作配置
    # --------------------------------------------------
    # 动作使用 Kether 脚本语言编写
    # 支持的动作类型：enter, leave, tick, damage, kill, death, break-block, place-block, interact
    actions:
      # 进入区域时执行（只执行一次）
      enter: |-
        tell "&a欢迎来到出生点！"
        title "&6出生点" "&e安全区域"
      
      # 离开区域时执行（只执行一次）
      leave: |-
        tell "&c你离开了出生点"
      
      # 在区域内持续执行（根据 tick-period 设置的周期）
      tick: |-
        actionbar "&a出生点 &7| &e安全区域"
    
    # --------------------------------------------------
    # 区域标志配置
    # --------------------------------------------------
    # 标志用于控制玩家在区域内的行为
    # true = 允许, false = 禁止, 不设置 = 使用默认值
    flags:
      pvp: false          # 禁止玩家互相攻击
      god-mode: true      # 玩家无敌（不受任何伤害）
      hunger: false       # 不消耗饥饿值
      block-break: false  # 禁止破坏方块
      block-place: false  # 禁止放置方块
    
    # --------------------------------------------------
    # Tick 周期设置
    # --------------------------------------------------
    # 单位：tick（Minecraft 游戏刻）
    # 20 tick = 1 秒
    # 这个值决定了 tick 动作的执行频率
    tick-period: 20


  # ========================================
  # 示例2：商店区域 - 安全交易区
  # ========================================
  shop_zone:
    # 优先级：8（中等优先级）
    priority: 8

    # --------------------------------------------------
    # 区域形状：立方体
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "-100, 64, -100"  # 第一个角
      position2: "-50, 80, -50"    # 对角

    # --------------------------------------------------
    # 区域动作
    # --------------------------------------------------
    actions:
      # 进入商店时的欢迎消息
      enter: |-
        tell "&6欢迎来到商店！"
        title "&e&l商店区域" "&7右键点击村民购买物品"
        sound BLOCK_NOTE_BLOCK_PLING 1.0 2.0

      # 离开商店时的告别消息
      leave: |-
        tell "&7感谢光临！"

      # 持续显示商店信息
      tick: |-
        actionbar "&6商店 &7| &e安全交易区"

    # --------------------------------------------------
    # 区域标志：完全安全的交易环境
    # --------------------------------------------------
    flags:
      pvp: false           # 禁止PVP（防止恶意攻击）
      mob-spawning: false  # 禁止生物生成（保持环境整洁）
      block-break: false   # 禁止破坏方块（保护建筑）
      block-place: false   # 禁止放置方块（保护建筑）
      explosion: false     # 禁止爆炸（防止破坏）

    # Tick周期：40 tick = 2秒
    tick-period: 40


  # ========================================
  # 示例3：矿区 - 危险区域
  # ========================================
  mining_zone:
    # 优先级：5（较低优先级）
    priority: 5

    # --------------------------------------------------
    # 区域形状：立方体（地下矿区）
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "200, 0, 200"    # 从地底开始
      position2: "300, 64, 300"   # 到地表

    # --------------------------------------------------
    # 区域动作
    # --------------------------------------------------
    actions:
      # 进入矿区的警告
      enter: |-
        tell "&c你进入了矿区！"
        tell "&e小心怪物和岩浆！"
        sound ENTITY_GHAST_SCREAM 0.5 0.8

      # 离开矿区
      leave: |-
        tell "&a你离开了矿区"
        effect clear

      # 死亡提示
      death: |-
        tell "&c你在矿区中死亡了！"
        tell "&7物品已掉落在死亡地点"

    # --------------------------------------------------
    # 区域标志：危险环境
    # --------------------------------------------------
    flags:
      pvp: false           # 禁止PVP（但允许怪物攻击）
      mob-spawning: true   # 允许怪物生成
      explosion: true      # 允许爆炸（苦力怕等）
      item-drop: true      # 允许掉落物品


  # ========================================
  # 示例4：PVP竞技场 - 战斗区域
  # ========================================
  pvp_arena:
    # 优先级：15（高优先级）
    priority: 15

    # --------------------------------------------------
    # 区域形状：立方体竞技场
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "400, 64, 400"
      position2: "500, 100, 500"

    # --------------------------------------------------
    # 区域动作：完整的战斗反馈
    # --------------------------------------------------
    actions:
      # 进入竞技场
      enter: |-
        tell "&c进入PVP竞技场！"
        title "&c&lPVP竞技场" "&e小心战斗！"
        sound ENTITY_ENDER_DRAGON_GROWL 1.0 1.0

      # 离开竞技场
      leave: |-
        tell "&a你离开了竞技场"

      # 受到伤害时
      damage: |-
        sound ENTITY_PLAYER_HURT 1.0 1.0

      # 击杀玩家时
      kill: |-
        tell "&a&l你击杀了一名玩家！"
        give diamond 1

      # 死亡时
      death: |-
        tell "&c你在竞技场中死亡了"

    # --------------------------------------------------
    # 区域标志：战斗环境
    # --------------------------------------------------
    flags:
      pvp: true            # 允许PVP
      mob-spawning: false  # 禁止怪物生成（纯PVP）
      explosion: false     # 禁止爆炸（保护建筑）


  # ========================================
  # 示例5：红石实验室 - 创造区域
  # ========================================
  redstone_lab:
    # 优先级：7
    priority: 7

    # --------------------------------------------------
    # 区域形状：立方体实验室
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "600, 64, 600"
      position2: "700, 100, 700"

    # --------------------------------------------------
    # 区域动作
    # --------------------------------------------------
    actions:
      # 进入实验室
      enter: |-
        tell "&c进入红石实验室！"
        tell "&e你可以自由建造和测试红石电路"
        title "&c&l红石实验室" "&e尽情创造！"

      # 离开实验室
      leave: |-
        tell "&7离开红石实验室"

      # 持续提示
      tick: |-
        actionbar "&c红石实验室 &7| &e自由建造区"

    # --------------------------------------------------
    # 区域标志：创造环境
    # --------------------------------------------------
    flags:
      pvp: false           # 禁止PVP
      block-break: true    # 允许破坏方块
      block-place: true    # 允许放置方块
      hunger: false        # 不消耗饥饿值
      mob-spawning: false  # 禁止怪物生成

    # Tick周期：60 tick = 3秒
    tick-period: 60


  # ========================================
  # 示例6：新手保护区 - 权限限制区域
  # ========================================
  newbie_zone:
    # 优先级：20（很高优先级）
    priority: 20

    # --------------------------------------------------
    # 区域形状：立方体保护区
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "-200, 64, -200"
      position2: "-150, 100, -150"

    # --------------------------------------------------
    # 进入条件：只有新手可以进入
    # --------------------------------------------------
    conditions:
      # 检查玩家是否有新手权限
      enter-check: |-
        if check perm *newbie then {
          return true
        } else {
          return false
        }
      # 拒绝时执行的动作
      deny-actions: |-
        tell "&c这是新手保护区，只有新手可以进入！"
      # 拒绝时取消进入
      cancel-on-deny: true

    # --------------------------------------------------
    # 区域动作
    # --------------------------------------------------
    actions:
      # 进入保护区
      enter: |-
        tell "&a欢迎来到新手保护区！"
        tell "&e在这里你可以安全地学习游戏"
        effect give regeneration 999999 1

      # 离开保护区
      leave: |-
        tell "&c离开新手保护区，小心危险！"
        effect clear regeneration

      # 持续提示
      tick: |-
        actionbar "&a新手保护区 &7| &e完全安全"

    # --------------------------------------------------
    # 区域标志：完全保护
    # --------------------------------------------------
    flags:
      pvp: false
      god-mode: true       # 完全无敌
      hunger: false
      block-break: false
      block-place: false
      mob-spawning: false

    tick-period: 40


  # ========================================
  # 示例7：建筑比赛区 - 权限+时间限制
  # ========================================
  build_contest:
    # 优先级：6
    priority: 6

    # --------------------------------------------------
    # 区域形状：立方体建筑区
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "1500, 64, 1500"
      position2: "1600, 120, 1600"

    # --------------------------------------------------
    # 进入条件：需要建筑师权限
    # --------------------------------------------------
    conditions:
      enter-check: |-
        check perm *builder.access
      deny-actions: |-
        tell "&c建筑比赛进行中，禁止进入！"
      cancel-on-deny: true

    # --------------------------------------------------
    # 区域动作
    # --------------------------------------------------
    actions:
      # 进入建筑区
      enter: |-
        tell "&6进入建筑比赛区域！"
        tell "&e你有60分钟完成作品"
        title "&6&l建筑比赛" "&e发挥你的创造力！"

      # 持续显示时间
      tick: |-
        actionbar "&6建筑比赛 &7| &e剩余时间: 60:00"

    # --------------------------------------------------
    # 区域标志：建造环境
    # --------------------------------------------------
    flags:
      pvp: false
      god-mode: true       # 无敌模式（专注建造）
      block-break: true    # 允许破坏
      block-place: true    # 允许放置
      hunger: false

    tick-period: 20


  # ========================================
  # 示例8：魔法区域 - 粒子效果展示
  # ========================================
  magic_zone:
    # 优先级：12
    priority: 12

    # --------------------------------------------------
    # 区域形状：立方体魔法区
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "2000, 64, 2000"
      position2: "2100, 120, 2100"

    # --------------------------------------------------
    # 区域动作：丰富的粒子和音效
    # --------------------------------------------------
    actions:
      # 进入魔法区
      enter: |-
        tell "&d欢迎来到魔法区域！"
        title "&5&l魔法区域" "&d感受魔法的力量"
        sound BLOCK_PORTAL_AMBIENT 1.0 1.0
        particle PORTAL 100 3 3 3 1.0
        effect give regeneration 999999 1

      # 离开魔法区
      leave: |-
        tell "&7你离开了魔法区域"
        effect clear regeneration

      # 持续的魔法粒子效果
      tick: |-
        particle ENCHANTMENT_TABLE 20 2 2 2 0.5
        particle PORTAL 10 1 1 1 0.3
        actionbar "&d魔法区域 &7| &5魔力充盈"

    # --------------------------------------------------
    # 区域标志：魔法环境
    # --------------------------------------------------
    flags:
      pvp: false
      hunger: false
      mob-spawning: false

    # Tick周期：20 tick = 1秒
    tick-period: 20


  # ========================================
  # 示例9：末地传送门 - 音效+粒子组合
  # ========================================
  end_portal_zone:
    # 优先级：9
    priority: 9

    # --------------------------------------------------
    # 区域形状：立方体传送门区
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "3000, 64, 3000"
      position2: "3020, 80, 3020"

    # --------------------------------------------------
    # 区域动作：传送门效果
    # --------------------------------------------------
    actions:
      # 进入传送门区
      enter: |-
        tell "&5你接近了末地传送门..."
        title "&5&l末地传送门" "&d小心末影人"
        sound BLOCK_PORTAL_TRIGGER 1.0 0.8
        particle END_ROD 50 2 2 2 0.1

      # 离开传送门区
      leave: |-
        tell "&7你离开了传送门区域"

      # 持续的传送门粒子
      tick: |-
        particle PORTAL 30 1.5 1.5 1.5 0.5
        particle DRAGON_BREATH 10 1 1 1 0.1
        actionbar "&5末地传送门 &7| &d危险区域"

    # --------------------------------------------------
    # 区域标志：传送门环境
    # --------------------------------------------------
    flags:
      pvp: false
      mob-spawning: true  # 允许末影人生成

    tick-period: 10  # 10 tick = 0.5秒（更频繁的粒子）


  # ========================================
  # 示例10：Boss战斗区 - 完整特效
  # ========================================
  boss_arena:
    # 优先级：20（最高优先级）
    priority: 20

    # --------------------------------------------------
    # 区域形状：立方体Boss区
    # --------------------------------------------------
    position:
      shape: CUBOID
      world: "world"
      position1: "4000, 64, 4000"
      position2: "4100, 120, 4100"

    # --------------------------------------------------
    # 进入条件：需要等级权限
    # --------------------------------------------------
    conditions:
      enter-check: |-
        check perm *boss.enter
      deny-actions: |-
        tell "&c你的等级不足，无法进入Boss区域！"
        sound ENTITY_VILLAGER_NO 1.0 1.0
      cancel-on-deny: true

    # --------------------------------------------------
    # 区域动作：完整的Boss战斗体验
    # --------------------------------------------------
    actions:
      # 进入Boss区
      enter: |-
        tell "&4&l警告！你进入了Boss战斗区域！"
        title "&4&lBOSS战斗" "&c准备迎接挑战！"
        sound ENTITY_ENDER_DRAGON_GROWL 1.0 0.8
        sound ENTITY_LIGHTNING_BOLT_THUNDER 0.8 1.0
        particle EXPLOSION_NORMAL 100 5 5 5 0.2
        particle FLAME 50 3 3 3 0.1

      # 离开Boss区
      leave: |-
        tell "&a你逃离了Boss区域"
        sound ENTITY_PLAYER_LEVELUP 1.0 1.0

      # 持续的战斗氛围
      tick: |-
        particle SMOKE_NORMAL 15 3 3 3 0.05
        particle REDSTONE 10 2 2 2 0
        actionbar "&4Boss战斗区 &7| &c危险！"

      # 受到伤害
      damage: |-
        sound ENTITY_PLAYER_HURT 1.0 1.0
        particle REDSTONE 20 0.5 0.5 0.5 0

      # 击杀Boss
      kill: |-
        tell "&a&l你击败了Boss！"
        title "&6&l胜利！" "&e获得丰厚奖励"
        sound ENTITY_PLAYER_LEVELUP 1.0 1.0
        sound ENTITY_FIREWORK_ROCKET_BLAST 1.0 1.0
        particle TOTEM 200 3 3 3 0.5
        particle FIREWORKS_SPARK 100 2 2 2 0.3
        give diamond 10
        give emerald 5

      # 死亡
      death: |-
        tell "&c你被Boss击败了..."
        title "&4&l失败" "&c再接再厉"
        sound ENTITY_LIGHTNING_BOLT_THUNDER 0.5 0.5
        particle EXPLOSION_LARGE 50 2 2 2 0.1

    # --------------------------------------------------
    # 区域标志：Boss战斗环境
    # --------------------------------------------------
    flags:
      pvp: false           # 禁止玩家互相攻击
      mob-spawning: true   # 允许Boss生成
      explosion: true      # 允许爆炸
      block-break: false   # 禁止破坏方块

    tick-period: 20
